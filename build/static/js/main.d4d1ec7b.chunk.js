(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{15:function(e,t,a){e.exports={divstyle:"LandingPage_divstyle__23Nuo",Layoutstyle:"LandingPage_Layoutstyle__1Bv11",Headstyle:"LandingPage_Headstyle__qjWp_",Contentdiv:"LandingPage_Contentdiv__1L6-4",divImg:"LandingPage_divImg__1U36D",btn:"LandingPage_btn__1R-py",link:"LandingPage_link__2mlx3",divlast:"LandingPage_divlast__lbzm2",Footer:"LandingPage_Footer__1qffA",divhead:"LandingPage_divhead__S-CUD",hland:"LandingPage_hland__1GW2x",customcount:"LandingPage_customcount__3Z4YJ",btnL:"LandingPage_btnL__11ACJ",active:"LandingPage_active__2xapx"}},156:function(e,t,a){e.exports={h:"DeskManage_h__YQGYl",Fdiv:"DeskManage_Fdiv__1Qr6t"}},16:function(e,t,a){e.exports={orderItemStyle:"OrderManage_orderItemStyle__1Cese",Fdiv:"OrderManage_Fdiv__3FC9I",h:"OrderManage_h__2QgIb",diva:"OrderManage_diva__1B-Fh",ht:"OrderManage_ht__Pv4EX",hs:"OrderManage_hs__1N0aR",divh:"OrderManage_divh__2uwJl",divs:"OrderManage_divs__1kZK3",btn:"OrderManage_btn__2nrvb"}},18:function(e,t,a){e.exports={divstyle:"Register_divstyle__1BUq3",Layoutstyle:"Register_Layoutstyle__fV9DG",Headstyle:"Register_Headstyle__3prUH",Contentdiv:"Register_Contentdiv__3TPSK",divImg:"Register_divImg__1Fu29",divinput:"Register_divinput__17bIX",btn:"Register_btn__2m4Q6",divbtn:"Register_divbtn__3-_IX",link:"Register_link__3Tvce",divlast:"Register_divlast__j25lI",Footer:"Register_Footer__1xIij"}},22:function(e,t,a){e.exports={imgStyle:"Foodcart_imgStyle__3CtO6",divBody:"Foodcart_divBody__3Ash_",hthree:"Foodcart_hthree__2qziZ",divp:"Foodcart_divp__3Zu43",menuItemStyle:"Foodcart_menuItemStyle__2dHXS",divbtn:"Foodcart_divbtn__15BUT",divbtntwo:"Foodcart_divbtntwo__3jzTE",divbtnthree:"Foodcart_divbtnthree__2wBCR",itemname:"Foodcart_itemname__2x5JN"}},250:function(e,t,a){e.exports=a(505)},255:function(e,t,a){},33:function(e,t,a){e.exports={divstyle:"Homepage_divstyle__3h_sa",Layoutstyle:"Homepage_Layoutstyle__101sk",Headstyle:"Homepage_Headstyle__Xk1AR",Contentdiv:"Homepage_Contentdiv__3oz30",divImg:"Homepage_divImg__wmUJV",btn:"Homepage_btn__2fzfy",link:"Homepage_link__2DPCH",divlast:"Homepage_divlast__3RcCG",Footer:"Homepage_Footer__33OHX"}},347:function(e,t){},36:function(e,t,a){e.exports={imgStyle:"FoodManage_imgStyle__3iaXT",h:"FoodManage_h__2G6QX",Fdiv:"FoodManage_Fdiv__1LiVq",orderItemStyle:"FoodManage_orderItemStyle__t2ixi",ht:"FoodManage_ht__1scNG",divp:"FoodManage_divp__2gB-k",divbtn:"FoodManage_divbtn__1ZryP",isdiv:"FoodManage_isdiv__3MnU5"}},37:function(e,t,a){e.exports={Headstyle:"RestaurantManage_Headstyle__Cfsdr",Headspan:"RestaurantManage_Headspan__tCRoM",Slider:"RestaurantManage_Slider__PKtVr",Menu:"RestaurantManage_Menu__wPsM8",Item:"RestaurantManage_Item__2FYbv",mained:"RestaurantManage_mained__3Szpk"}},38:function(e,t,a){},41:function(e,t,a){e.exports={divstyle:"order-success_divstyle__1puTO",Layoutstyle:"order-success_Layoutstyle__CR7q5",Headstyle:"order-success_Headstyle__2lMvz",Contentdiv:"order-success_Contentdiv__3tPG1",divImg:"order-success_divImg__2wHE4",btn:"order-success_btn__2Qx53",link:"order-success_link__1uS_f",divlast:"order-success_divlast__1FB1O",Footer:"order-success_Footer__3U1Ta",order:"order-success_order__2J5Yv",orderp:"order-success_orderp__26M9u"}},505:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(2),o=a.n(c),l=(a(255),a(58)),s=a.n(l),i=s.a.create({baseURL:"/api",withCredentials:!0}),d=a(234),m=a.n(d);window._=m.a,window.api=i,window.axios=s.a;a(38);var u=a(49),p=a(9),f=function(e){var t={};return{clearCache:function(){t={}},read:function(){for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];var c=n.join("|");if(c in t)return t[c];throw e.apply(void 0,n).then((function(e){t[c]=e}))}}},v=a(15),_=a.n(v),g=a(7),E=a(507),h=E.a.Header,y=E.a.Footer,b=E.a.Content,O=f((function(e){return i.get("/deskinfo?did="+e)}));function k(e){var t=e.did,a=O.read(t).data;return r.a.createElement("div",{className:_.a.divhead},r.a.createElement("span",null,a.title),"-",r.a.createElement("span",null,a.name))}var N=Object(u.f)((function(e){var t=Object(n.useState)(0),a=Object(p.a)(t,2),c=a[0],o=a[1],l=e.match.params.rid,s=e.match.params.did;return r.a.createElement("div",{className:_.a.divstyle},r.a.createElement(E.a,{className:_.a.Layoutstyle},r.a.createElement(h,{className:_.a.Headstyle},r.a.createElement("span",null,"Welcome to your restaurant !")),r.a.createElement(b,{className:_.a.Content},r.a.createElement("div",{className:_.a.Contentdiv},r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"\u6b63\u5728\u52a0\u8f7d\u684c\u9762\u4fe1\u606f...")},r.a.createElement(k,{did:s})),r.a.createElement("h2",{className:_.a.hland},"\u8bf7\u9009\u62e9\u4eba\u6570"),r.a.createElement("ul",{className:_.a.customcount},r.a.createElement("li",{className:1===c?_.a.active:null,onClick:function(){return o(1)}},"1"),r.a.createElement("li",{className:2===c?_.a.active:null,onClick:function(){return o(2)}},"2"),r.a.createElement("li",{className:3===c?_.a.active:null,onClick:function(){return o(3)}},"3"),r.a.createElement("li",{className:4===c?_.a.active:null,onClick:function(){return o(4)}},"4")),r.a.createElement(g.a,{type:"danger",style:{width:"200px",height:"50px",fontSize:" 25px",marginTop:"23px"},className:_.a.btnL,onClick:function(){e.history.push("/r/".concat(l,"/d/").concat(s,"/c/").concat(c))}},"\u5f00\u59cb\u70b9\u9910"))),r.a.createElement(y,{className:_.a.Footer},r.a.createElement("div",null,"\u6b22\u8fce\u767b\u5f55"))))})),j=a(247),x=a(106),C=a(107),w=a(111),S=a(108),F=a(112),P=a(63),I=a(17),H=Object(I.b)(),L=a(109),M=a.n(L),R=(a(350),a(22)),D=a.n(R),U=a(157),A=a(508),B=E.a.Header,z=E.a.Content,W=E.a.Footer;function V(e){var t=e.food,a=e.onUpdate,n=e.amount;return r.a.createElement("div",{className:D.a.menuItemStyle},r.a.createElement("h3",{className:D.a.hthree},t.name),r.a.createElement("div",{className:D.a.divp},r.a.createElement("img",{className:D.a.imgStyle,src:"http://23.105.211.152:5005/upload/"+t.img,alt:t.name}),r.a.createElement("p",null,"\u63cf\u8ff0\uff1a",r.a.createElement("span",null,t.desc)),r.a.createElement("p",null,"\u4ef7\u683c\uff1a",t.price),r.a.createElement("div",{className:D.a.divbtn},"\u6570\u91cf\uff1a",r.a.createElement("span",null,n),r.a.createElement("button",{onClick:function(){0!==n&&a(t,n-1)}},"-"),r.a.createElement("button",{onClick:function(){a(t,n+1)}},"+"))))}function T(e){return e.reduce((function(e,t){return e+t.amount*t.food.price}),0)}function J(e){var t=Object(n.useState)(!1),a=Object(p.a)(t,2),c=a[0],o=a[1],l=T(e.foods);return r.a.createElement("div",{style:{position:"fixed",height:"50px",borderRadius:"10px",bottom:"45px",textAlign:"center",left:"-10px",width:"100%"}},c?r.a.createElement(g.a,{type:"primary",className:D.a.divbtntwo,onClick:function(){return o(!1)}},"\u6536\u8d77"):r.a.createElement(g.a,{type:"danger",className:D.a.divbtntwo,onClick:function(){return o(!0)}},"\u5c55\u5f00"),c?r.a.createElement("div",{className:D.a.itemname},e.foods.map((function(t){return console.log("props",e,"it",t.food.name,t.amount),r.a.createElement("div",{className:D.a.divitem},t.food.name,"\xa0\xa0\xa0",t.amount)}))):"",r.a.createElement("strong",{className:D.a.divbtnthree},"\u603b\u4ef7\uff1a",l),r.a.createElement(g.a,{type:"danger",className:D.a.divbtntwo,onClick:function(){return e.onPlaceOrder()}},"\u4e0b\u5355"))}V.defaultProps={onUpdate:function(){}};var X=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(w.a)(this,Object(S.a)(t).call(this,e))).cartChange=function(e,t){var n=a.props.match.params;a.socket.emit("new food",{desk:"desk:"+n.did,food:e,amount:t})},a.foodChange=function(e,t){var n=Object(P.a)(a.state.cart,(function(a){var n=a.findIndex((function(t){return t.food.id===e.id}));n>=0?0===t?a.splice(n,1):a[n].amount=t:a.push({food:e,amount:t})}));a.setState({cart:n})},a.placeOrder=function(){console.log("\u4e0b\u5355");var e=a.props.match.params;console.log(e),i.post("/restaurant/".concat(e.rid,"/desk/").concat(e.did,"/order"),{deskName:a.state.deskInfo.name,customCount:e.count,totalPrice:T(a.state.cart),foods:a.state.cart}).then((function(t){H.push({pathname:"/r/".concat(e.rid,"/d/").concat(e.did,"/order-success"),state:t.data})}))},a.state={cart:[],foodMenu:[],deskInfo:{}},a}return Object(F.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params;i.get("/deskinfo?did="+t.did).then((function(t){e.setState({deskInfo:t.data})})),i.get("/menu/restaurant/1").then((function(t){e.setState({foodMenu:t.data})})),this.socket=M()({path:"/desk",query:{desk:"desk:"+t.did}}),this.socket.on("connect",(function(){console.log("connect on"),e.socket.emit("join desk","desk:"+t.did)})),this.socket.on("cart food",(function(t){console.log("cart init",t),e.setState(Object(P.a)((function(e){var a;(a=e.cart).push.apply(a,Object(j.a)(t))})))})),this.socket.on("new food",(function(t){console.log(t),e.foodChange(t.food,t.amount)})),this.socket.on("placeorder success",(function(e){H.push({pathname:"/r/".concat(t.rid,"/d/").concat(t.did,"/order-success"),state:e})}))}},{key:"componentWillUnmount",value:function(){this.socket.close()}},{key:"render",value:function(){var e=this;return r.a.createElement(E.a,{style:{height:"100%"}},r.a.createElement(B,{style:{position:"fixed",zIndex:1,width:"100%",background:"rgba(0,0,0,0.6)"}},r.a.createElement("div",{className:"logo"}),r.a.createElement(U.a,{theme:"light",mode:"horizontal",defaultSelectedKeys:["2"],style:{lineHeight:"64px"}}),r.a.createElement("h1",{style:{color:"rgb(27,133,220)",fontWeight:"bold",fontSize:"0.4rem",paddingLeft:"0.3rem"}},"\u6b22\u8fce\u70b9\u9910,\u795d\u60a8\u7528\u9910\u6109\u5feb\uff01")),r.a.createElement(z,{style:{padding:"0",marginTop:64}},r.a.createElement(A.a,{style:{margin:"16px 0"}},r.a.createElement(A.a.Item,null),r.a.createElement(A.a.Item,null),r.a.createElement(A.a.Item,null)),r.a.createElement("div",{style:{background:"#fff",height:"100%",padding:30,paddingTop:20,marginTop:40,minHeight:380}},r.a.createElement("div",null,r.a.createElement("div",{className:D.a.divBody},this.state.foodMenu.map((function(t){var a=0,n=e.state.cart.find((function(e){return e.food.id===t.id}));return n&&(a=n.amount),r.a.createElement(V,{key:t.id,food:t,amount:a,onUpdate:e.cartChange})}))),r.a.createElement(J,{foods:this.state.cart,onUpdate:this.cartChange,onPlaceOrder:this.placeOrder})))),r.a.createElement(W,{style:{textAlign:"center",position:"fixed",bottom:"0px",width:"100%",padding:"10px 25px"}},"Ant Design \xa92018 Created by Ant UED"))}}]),t}(n.Component),q=a(30),G=a(31),Z=a.n(G),Q=a(59),K=a(13),Y=a(16),$=a.n(Y);function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(a,!0).forEach((function(t){Object(q.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ae(e){var t=e.order,a=e.onDelete,c=Object(n.useState)(t),o=Object(p.a)(c,2),l=o[0],s=o[1],d=Object(n.useState)({}),m=Object(p.a)(d,2),u=m[0],f=m[1];return r.a.createElement("div",{className:$.a.orderItemStyle,style:u},r.a.createElement("h2",{className:$.a.ht},r.a.createElement("span",{style:{color:"black",fontSize:"0.6rem"}},"\u684c\u53f7"),r.a.createElement("br",null),l.deskName),r.a.createElement("div",{className:$.a.diva},r.a.createElement("div",{className:$.a.divh},r.a.createElement("h3",{className:$.a.hs},"\u603b\u4ef7\u683c\uff1a",l.totlaPrice),r.a.createElement("h3",{className:$.a.hs},"\u4eba\u6570\uff1a",l.customCount),r.a.createElement("h3",{className:$.a.hs},"\u8ba2\u5355\u72b6\u6001\uff1a",l.status)),r.a.createElement("div",{className:$.a.divs},r.a.createElement(g.a,{type:"primary",className:$.a.btn},"\u6253\u5370"),r.a.createElement(g.a,{type:"primary",className:$.a.btn,onClick:function(){i.put("/restaurant/1/order/".concat(t.id,"/status"),{status:"confirmed"}).then((function(){s(te({},l,{status:"confirmed"}))}))}},"\u786e\u8ba4"),r.a.createElement(g.a,{type:"primary",className:$.a.btn,onClick:function(){i.put("/restaurant/1/order/".concat(t.id,"/status"),{status:"completed"}).then((function(){s(te({},l,{status:"completed"}))}))}},"\u5b8c\u6210"),r.a.createElement(g.a,{type:"primary",className:$.a.btn,onClick:function(e){i.delete("/restaurant/1/order/".concat(t.id)).then((function(){a(t)})),f({background:"red"})}},"\u5220\u9664"))))}var ne=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(w.a)(this,Object(S.a)(t).call(this,e))).onDelete=function(e){var t=a.state.orders.findIndex((function(t){return t.id===e.id}));a.setState(Object(P.a)((function(e){e.orders.splice(t,1)})))},a.state={orders:[]},a}return Object(F.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params;this.socket=M()({path:"/restaurant",query:{restaurant:"restaurant:"+t.rid}}),this.socket.on("connect",(function(){e.socket.emit("join restaurant","restaurant:"+t.rid)})),this.socket.on("new order",(function(t){e.setState(Object(P.a)((function(e){e.orders.unshift(t)})))})),i.get("/restaurant/1/order").then((function(t){e.setState(Object(P.a)((function(e){e.orders=t.data})))}))}},{key:"componentWillUnmount",value:function(){this.socket.close()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:$.a.Fdiv},r.a.createElement("h2",{className:$.a.h},"\u8ba2\u5355\u7ba1\u7406"),r.a.createElement("div",null,this.state.orders.length>0?this.state.orders.map((function(t){return r.a.createElement(ae,{onDelete:e.onDelete,key:t.id,order:t})})):r.a.createElement("div",null,"loading...")))}}]),t}(n.Component),re=a(36),ce=a.n(re);function oe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function le(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oe(a,!0).forEach((function(t){Object(q.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function se(e){var t=e.food,a=e.onDelete,c=Object(n.useState)(t),o=Object(p.a)(c,2),l=o[0],s=o[1],d=Object(n.useState)(!1),m=Object(p.a)(d,2),u=m[0],f=m[1],v=Object(n.useState)({name:t.name,desc:t.desc,price:t.price,category:t.category,status:t.status,img:null}),_=Object(p.a)(v,2),E=_[0],h=_[1];function y(e){h(le({},E,Object(q.a)({},e.target.name,e.target.value)))}function b(e){h(le({},E,{img:e.target.files[0]}))}return r.a.createElement("div",{className:ce.a.orderItemStyle},r.a.createElement("h3",{className:ce.a.ht},l.name),u?r.a.createElement("div",{className:ce.a.isdiv},r.a.createElement("form",null,r.a.createElement("span",null," ","\u540d\u79f0\uff1a",r.a.createElement("input",{type:"text",onChange:y,defaultValue:l.name,name:"name"})),r.a.createElement("span",null," ","\u63cf\u8ff0\uff1a",r.a.createElement("input",{type:"text",onChange:y,defaultValue:l.desc,name:"desc"})),r.a.createElement("span",null," ","\u4ef7\u683c\uff1a",r.a.createElement("input",{type:"text",onChange:y,defaultValue:l.price,name:"price"})),r.a.createElement("span",null,"\u5206\u7c7b\uff1a",r.a.createElement("input",{type:"text",onChange:y,defaultValue:l.category,name:"category"})),r.a.createElement("span",null,"\u56fe\u7247\uff1a",r.a.createElement("input",{type:"file",onChange:b,name:"img"})))):r.a.createElement("div",{className:ce.a.foodInfoStyle},r.a.createElement("img",{src:"/upload/"+l.img,alt:l.name,className:ce.a.imgStyle}),r.a.createElement("div",{className:ce.a.divp},r.a.createElement("p",null,"\u63cf\u8ff0\uff1a",l.desc),r.a.createElement("p",null,"\u4ef7\u683c\uff1a",l.price),r.a.createElement("p",null,"\u5206\u7c7b\uff1a",l.category?l.category:"[\u6682\u672a\u5206\u7c7b]"))),r.a.createElement("div",{className:ce.a.divbtn},r.a.createElement(g.a,{onClick:function(){return f(!0)}},"\u4fee\u6539"),r.a.createElement(g.a,{onClick:function(){var e=new FormData;for(var a in E){var n=E[a];e.append(a,n)}i.put("/restaurant/1/food/"+t.id,e).then((function(e){f(!1),s(e.data)}))}},"\u4fdd\u5b58"),"on"===l.status&&r.a.createElement(g.a,{onClick:function(){i.put("/restaurant/1/food/"+t.id,le({},E,{status:"off"})).then((function(e){s(e.data)}))}},"\u4e0b\u67b6"),"off"===l.status&&r.a.createElement(g.a,{onClick:function(){i.put("/restaurant/1/food/"+t.id,le({},E,{status:"on"})).then((function(e){s(e.data)}))}},"\u4e0a\u67b6"),r.a.createElement(g.a,{onClick:function(){i.delete("/restaurant/1/food/"+t.id).then((function(){a(t.id)}))}},"\u5220\u9664")))}function ie(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],c=t[1];function o(e){c(a.filter((function(t){return t.id!==e})))}return Object(n.useEffect)((function(){i.get("/restaurant/1/food").then((function(e){c(e.data)}))}),[]),console.log(a),r.a.createElement("div",{className:ce.a.Fdiv},r.a.createElement("div",{className:ce.a.h},r.a.createElement(K.a,{to:"/restaurant/:rid/manage/add-food"},"\u6dfb\u52a0\u83dc\u54c1")),r.a.createElement("div",null,a.map((function(e){return r.a.createElement(se,{onDelete:o,key:e.id,food:e})}))))}var de=a(156),me=a.n(de),ue=function(){return r.a.createElement("div",{className:me.a.Fdiv},r.a.createElement("div",{className:me.a.h},"desk"),r.a.createElement("div",null))},pe=a(88),fe=a.n(pe);function ve(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _e(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ve(a,!0).forEach((function(t){Object(q.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ve(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ge=function(e){var t=Object(n.useState)({name:"",desc:"",price:0,category:"",status:"on",img:null}),a=Object(p.a)(t,2),c=a[0],o=a[1];function l(e){o(_e({},c,Object(q.a)({},e.target.name,e.target.value)))}function s(e){e.preventDefault();var t=new FormData;for(var a in c){var n=c[a];t.append(a,n)}i.post("/restaurant/1/food",t).then((function(e){H.goBack()}))}return r.a.createElement("div",{className:fe.a.divF},r.a.createElement("h2",{className:fe.a.h},"\u6dfb\u52a0\u83dc\u54c1"),r.a.createElement("div",{className:fe.a.divL},r.a.createElement("form",{onSubmit:s},r.a.createElement("span",null,"  \u540d\u79f0\uff1a",r.a.createElement("input",{type:"text",onChange:l,defaultValue:c.name,name:"name"})),r.a.createElement("span",null," \u63cf\u8ff0\uff1a",r.a.createElement("input",{type:"text",onChange:l,defaultValue:c.desc,name:"desc"}),"       "),r.a.createElement("span",null," \u4ef7\u683c\uff1a",r.a.createElement("input",{type:"text",onChange:l,defaultValue:c.price,name:"price"})),r.a.createElement("span",null," \u5206\u7c7b\uff1a",r.a.createElement("input",{type:"text",onChange:l,defaultValue:c.category,name:"category"})),r.a.createElement("span",null," \u56fe\u7247\uff1a",r.a.createElement("input",{type:"file",onChange:function(e){o(_e({},c,{img:e.target.files[0]}))},name:"img"})),r.a.createElement(g.a,{type:"primary",onClick:s,className:fe.a.btnss},r.a.createElement("p",{style:{height:"45px",margin:"0",fontSize:"22px",paddingTop:"3px"}},"\u63d0\u4ea4")))))},Ee=a(27),he=a(37),ye=a.n(he),be=(a(493),E.a.Header),Oe=E.a.Sider,ke=E.a.Content,Ne=E.a.Footer,je=f(Object(Q.a)(Z.a.mark((function e(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.get("/userinfo").catch((function(){H.push("/")})));case 1:case"end":return e.stop()}}),e)}))));function xe(){var e=je.read().data;return r.a.createElement("div",null,e&&e.title+"!")}var Ce=Object(u.f)((function(e){var t;function a(){return(a=Object(Q.a)(Z.a.mark((function t(){return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.get("/logout");case 2:je.clearCache(),e.history.push("/");case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return r.a.createElement("div",{style:{height:"100%",background:"white"}},r.a.createElement(E.a,{style:{width:"100%",height:"100%",background:"white"}},r.a.createElement(Oe,{className:ye.a.Slider,breakpoint:"lg",collapsedWidth:"0",onBreakpoint:function(e){console.log(e)},onCollapse:function(e,t){console.log(e,t)}},r.a.createElement("div",{style:{textAlign:"center",fontSize:"24px",color:"blue",padding:"20px 10px"}}," ",r.a.createElement("span",{style:{fontSize:"28px",color:"black",fontWeight:"bold"}},"\u6b22\u8fce\u6765\u5230:"),r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"loading...")},r.a.createElement(xe,null))),r.a.createElement("div",{className:"logo"}),r.a.createElement(U.a,{className:ye.a.Menu,theme:"light",mode:"inline",defaultSelectedKeys:["4"]},r.a.createElement(U.a.Item,{key:"1",style:{paddingLeft:"32px"}},r.a.createElement(Ee.a,{type:"user"}),r.a.createElement("span",{className:"nav-text"}," ",r.a.createElement(K.a,{className:ye.a.Item,to:"order"}," \u8ba2\u5355\u7ba1\u7406"))),r.a.createElement(U.a.Item,{key:"2"},r.a.createElement(Ee.a,{type:"video-camera"}),r.a.createElement("span",{className:"nav-text"}," ",r.a.createElement(K.a,{className:ye.a.Item,to:"food"},"\u83dc\u54c1\u7ba1\u7406"))),r.a.createElement(U.a.Item,{key:"3"},r.a.createElement(Ee.a,{type:"upload"}),r.a.createElement("span",{className:"nav-text"},r.a.createElement(K.a,{className:ye.a.Item,to:"desk"},"\u684c\u9762\u7ba1\u7406"))),r.a.createElement(U.a.Item,{key:"4"},r.a.createElement(Ee.a,{type:"user"}),r.a.createElement("span",(t={className:"nav-text"},Object(q.a)(t,"className",ye.a.Item),Object(q.a)(t,"onClick",(function(){return a.apply(this,arguments)})),t),"\xa0\u9000\xa0\xa0\xa0\xa0\xa0\u51fa")))),r.a.createElement(E.a,{className:ye.a.mained,style:{marginBottom:"50px"}},r.a.createElement(be,{className:ye.a.Headstyle},r.a.createElement("span",{className:ye.a.Headspan},"Welcome to your restaurant!")),r.a.createElement(ke,{style:{margin:"0",height:"100%",padding:"30 20"}},r.a.createElement("div",{style:{padding:24,paddingBottom:"40px",height:"100%",overflowX:"auto"}},r.a.createElement("main",null,r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/restaurant/:rid/manage/order",exact:!0,component:ne}),r.a.createElement(u.a,{path:"/restaurant/:rid/manage/food",component:ie}),r.a.createElement(u.a,{path:"/restaurant/:rid/manage/desk",component:ue}),r.a.createElement(u.a,{path:"/restaurant/:rid/manage/add-food",component:ge})))))),r.a.createElement(Ne,{style:{textAlign:"center",position:"fixed",bottom:"0px",width:"100%",padding:"10px 25px"}},"Ant Design \xa92018 Created by Ant UED")))})),we=Object(u.f)((function(e){var t=Object(n.useRef)(),a=Object(n.useRef)(),c=Object(n.useRef)(),o=Object(n.useState)(null),l=Object(p.a)(o,2);l[0],l[1];function s(){return(s=Object(Q.a)(Z.a.mark((function n(r){var o,l,s,d;return Z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),o=t.current.value,l=a.current.value,s=c.current.value,n.prev=4,n.next=7,i.post("/login",{name:o,password:l,captcha:s});case 7:d=n.sent,e.history.push("/restaurant/".concat(d.data.id,"/manage/")),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(4),alert(n.t0.response.data.msg);case 14:case"end":return n.stop()}}),n,null,[[4,11]])})))).apply(this,arguments)}return r.a.createElement("div",null,r.a.createElement("h2",null,"\u9910\u5385\u7ba1\u7406\u5458\u767b\u5f55"),r.a.createElement("form",{onSubmit:function(e){return s.apply(this,arguments)}},r.a.createElement("input",{type:"text",ref:t}),r.a.createElement("input",{type:"password",ref:a}),r.a.createElement("input",{type:"text",ref:c}),r.a.createElement("img",{src:"/api/captcha",alt:"captcha"}),r.a.createElement("button",null,"Login")))})),Se=a(33),Fe=a.n(Se),Pe=E.a.Header,Ie=E.a.Footer,He=E.a.Content,Le=Object(u.f)((function(e){var t=Object(n.useRef)(),a=Object(n.useRef)(),c=Object(n.useRef)(),o=Object(n.useState)(null),l=Object(p.a)(o,2);l[0],l[1];function s(e){return d.apply(this,arguments)}function d(){return(d=Object(Q.a)(Z.a.mark((function n(r){var o,l,s,d;return Z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),o=t.current.value,l=a.current.value,s=c.current.value,n.prev=4,n.next=7,i.post("/login",{name:o,password:l,captcha:s});case 7:d=n.sent,e.history.push("/restaurant/".concat(d.data.id,"/manage/")),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(4),alert(n.t0.response.data.msg);case 14:case"end":return n.stop()}}),n,null,[[4,11]])})))).apply(this,arguments)}return r.a.createElement("div",{className:Fe.a.divstyle},r.a.createElement(E.a,{className:Fe.a.Layoutstyle},r.a.createElement(Pe,{className:Fe.a.Headstyle},r.a.createElement("span",null,"Welcome to your restaurant !")),r.a.createElement(He,{className:Fe.a.Content},r.a.createElement("div",{className:Fe.a.Contentdiv},r.a.createElement("h2",null,"\u9910\u5385\u7ba1\u7406\u5458\u767b\u5f55"),r.a.createElement("form",{onSubmit:s},r.a.createElement("input",{type:"text",ref:t,placeholder:"\u7528\u6237\u540d"}),r.a.createElement("br",null),r.a.createElement("input",{type:"password",ref:a,placeholder:"\u5bc6\u7801"}),r.a.createElement("br",null),r.a.createElement("input",{type:"text",ref:c,placeholder:"\u9a8c\u8bc1\u7801"}),r.a.createElement("br",null),r.a.createElement("div",{className:Fe.a.divImg},r.a.createElement("img",{src:"/api/captcha",alt:"captcha"})),r.a.createElement(g.a,{type:"primary",onClick:s,className:Fe.a.btn},"Login")),r.a.createElement(K.a,{className:Fe.a.link},"\u5fd8\u8bb0\u5bc6\u7801")),r.a.createElement("div",{className:Fe.a.divlast},r.a.createElement("span",null,"\u60a8\u8fd8\u6ca1\u6709\u6ce8\u518c\u8fc7\u8d26\u6237\uff1f",r.a.createElement(K.a,{to:"/register"},"\u8bf7\u6ce8\u518c")))),r.a.createElement(Ie,{className:Fe.a.Footer},r.a.createElement("div",null,"\u6b22\u8fce\u767b\u5f55"))))})),Me=a(41),Re=a.n(Me),De=E.a.Header,Ue=E.a.Footer,Ae=E.a.Content;function Be(e){var t=Object(n.useState)(5),a=Object(p.a)(t,2);a[0],a[1];return console.log(e),r.a.createElement("div",{className:Re.a.divstyle},r.a.createElement(E.a,{className:Re.a.Layoutstyle},r.a.createElement(De,{className:Re.a.Headstyle},r.a.createElement("span",null,"Welcome to your restaurant !")),r.a.createElement(Ae,{className:Re.a.Content},r.a.createElement("div",{className:Re.a.Contentdiv},r.a.createElement("div",{className:Re.a.order},"\u4e0b\u5355\u6210\u529f"),r.a.createElement("p",{className:Re.a.orderp},"\u603b\u4ef7\uff1a",e.location.state&&e.location.state.totlaPrice,"\u5143"))),r.a.createElement(Ue,{className:Re.a.Footer},r.a.createElement("div",null,"\u6b22\u8fce\u767b\u5f55"))))}var ze=a(18),We=a.n(ze),Ve=E.a.Header,Te=E.a.Footer,Je=E.a.Content,Xe=function(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useRef)(),c=Object(n.useRef)();return r.a.createElement("div",{className:We.a.divstyle},r.a.createElement(E.a,{className:We.a.Layoutstyle},r.a.createElement(Ve,{className:We.a.Headstyle},r.a.createElement("span",null,"Welcome to your restaurant !")),r.a.createElement(Je,{className:We.a.Content},r.a.createElement("div",{className:We.a.Contentdiv},r.a.createElement("h2",null,"\u9910\u5385\u6ce8\u518c"),r.a.createElement("div",{className:We.a.divinput},"  ",r.a.createElement("span",null,"\u7528\u6237\u540d\uff1a"),r.a.createElement("input",{type:"text",name:"name",ref:e})),r.a.createElement("div",{className:We.a.divinput},"  ",r.a.createElement("span",null,"\u90ae\xa0\xa0\xa0\u7bb1\uff1a"),r.a.createElement("input",{type:"text",name:"email",ref:a})),r.a.createElement("div",{className:We.a.divinput},"  ",r.a.createElement("span",null,"\u5bc6\xa0\xa0\xa0\u7801\uff1a"),r.a.createElement("input",{type:"password",name:"password",ref:t})),r.a.createElement("div",{className:We.a.divinput},"  ",r.a.createElement("span",null,"\u5e97\xa0\xa0\xa0\u540d\uff1a"),r.a.createElement("input",{type:"text",name:"name",ref:c})),r.a.createElement("div",{className:We.a.btn},"  ",r.a.createElement(g.a,{type:"primary",onClick:function(){var n={name:e.current.value,password:t.current.value,email:a.current.value,title:c.current.value};console.log(n),i.post("/register",n).then((function(e){0===e.data.code?H.push("/"):alert("\u7528\u6237\u540d\u5df2\u6ce8\u518c")}))},className:We.a.divbtn},"\u6ce8\u518c"))),r.a.createElement("div",{className:We.a.divlast},r.a.createElement("span",null,"\u5df2\u6ce8\u518c\u8fc7\u8d26\u6237\uff1f",r.a.createElement(K.a,{to:"/"},"\u8bf7\u767b\u5f55")))),r.a.createElement(Te,{className:We.a.Footer},r.a.createElement("div",null,"\u6b22\u8fce\u767b\u5f55"))))};var qe=function(){return r.a.createElement(u.b,{history:H},r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/",exact:!0,component:Le}),r.a.createElement(u.a,{path:"/landing/r/:rid/d/:did",component:N}),r.a.createElement(u.a,{path:"/r/:rid/d/:did/c/:count",component:X}),r.a.createElement(u.a,{path:"/r/:rid/d/:did/order-success",component:Be}),r.a.createElement(u.a,{path:"/restaurant/:rid/manage/",component:Ce}),r.a.createElement(u.a,{path:"/login",component:we}),r.a.createElement(u.a,{path:"/register",component:Xe})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(qe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},88:function(e,t,a){e.exports={divF:"Addfood_divF__3U8wJ",divL:"Addfood_divL__1W3JR",h:"Addfood_h__3MZ6k",btnss:"Addfood_btnss__ZCVln"}}},[[250,1,2]]]);
//# sourceMappingURL=main.d4d1ec7b.chunk.js.map